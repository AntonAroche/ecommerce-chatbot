<style>
    .card {
        width: 700px;
        margin: auto;
        margin-top: 50px;
    }

    a {
        color: #1665C0;
        text-decoration-color: #1665C0;
    }

    .undomargin {
        margin-top: -10px;
    }
</style>

<ng-container *ngIf="user === null">
    <div class="card">
        <h4 class="card-header">Login</h4>
        <div class="card-body">
            <form [formGroup]="form" (ngSubmit)="onSubmit()">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" formControlName="username" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.username.errors }" />
                    <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
                        <div *ngIf="f.username.errors.required">Username is required</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" formControlName="password" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.password.errors }" />
                    <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                        <div *ngIf="f.password.errors.required">Password is required</div>
                    </div>
                </div>
                <div class="form-group">
                    <button [disabled]="loading" mat-raised-button color="accent">
                        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                        Login
                    </button>
                    <a routerLink="../register" class="btn btn-link">Register</a>
                </div>
            </form>
        </div>
    </div>
</ng-container>


<ng-container *ngIf="user !== null">
    <div class="card">
        <h4 class="card-header">Logout?</h4>
        <div class="card-body undomargin">
            <p class="card-text">You are currently logged in as {{user.username}}. Log out?</p>
            <button mat-raised-button color="accent" (click)="logout()">
                Log out
            </button>
        </div>
    </div>
</ng-container>